const winston = require('winston');

// Create a logger instance
const logger = winston.createLogger({
  level: 'info',
  format: winston.format.combine(
    winston.format.timestamp(),
    winston.format.printf(({ timestamp, level, message }) => {
      return `${timestamp} ${level}: ${message}`;
    })
  ),
  transports: [
    new winston.transports.Console(),
    new winston.transports.File({ filename: 'error.log', level: 'error' })
  ]
});

// Log messages
logger.info('This is an info message');
logger.error('This is an error message');

// Simulate an uncaught exception
process.on('uncaughtException', (err) => {
  logger.error('Uncaught Exception:', err);
});

// Example function that throws an error
function riskyFunction() {
  throw new Error('Something went wrong!');
}

try {
  riskyFunction();
} catch (error) {
  logger.error('Caught an error:', error);
}
